<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>å¹´é¾„è®¡ç®—å™¨</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    }
    
    body {
      background-color: #f5f5f5;
      color: #333;
      padding: 20px;
    }
    
    .container {
      max-width: 800px;
      margin: 0 auto;
      background-color: #fff;
      border-radius: 8px;
      box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);
      overflow: hidden;
    }
    
    .header {
      background-color: #1890ff;
      color: white;
      padding: 20px;
      text-align: center;
    }
    
    .header h1 {
      margin: 0;
      font-size: 24px;
    }
    
    .content {
      padding: 20px;
    }
    
    .form-group {
      margin-bottom: 20px;
    }
    
    .form-label {
      display: block;
      margin-bottom: 8px;
      font-weight: 500;
    }
    
    .date-inputs {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
    }
    
    .input-group {
      flex: 1;
      min-width: 120px;
    }
    
    .input-group label {
      display: block;
      font-size: 14px;
      margin-bottom: 6px;
      color: #666;
    }
    
    select, input {
      width: 100%;
      padding: 10px;
      border: 1px solid #d9d9d9;
      border-radius: 4px;
      font-size: 16px;
      transition: all 0.3s;
    }
    
    select:focus, input:focus {
      outline: none;
      border-color: #40a9ff;
      box-shadow: 0 0 0 2px rgba(24, 144, 255, 0.2);
    }
    
    .submit-btn {
      background-color: #1890ff;
      color: white;
      border: none;
      padding: 12px 20px;
      border-radius: 4px;
      cursor: pointer;
      font-size: 16px;
      transition: background-color 0.3s;
    }
    
    .submit-btn:hover {
      background-color: #40a9ff;
    }
    
    .results {
      margin-top: 30px;
      background-color: #f9f9f9;
      border-radius: 8px;
      padding: 20px;
      transition: all 0.3s;
    }
    
    .result-item {
      display: flex;
      margin-bottom: 15px;
      align-items: center;
    }
    
    .result-icon {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background-color: #e6f7ff;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-right: 15px;
      font-size: 20px;
    }
    
    .result-label {
      font-weight: 500;
      margin-right: 10px;
      color: #666;
    }
    
    .result-value {
      font-size: 18px;
      font-weight: 600;
      color: #1890ff;
    }
    
    .zodiac-icon {
      font-size: 32px;
      margin-right: 10px;
    }
    
    .hidden {
      opacity: 0;
      height: 0;
      overflow: hidden;
      margin: 0;
      padding: 0;
    }
    
    .footer {
      padding: 15px;
      text-align: center;
      border-top: 1px solid #eee;
      color: #999;
      font-size: 14px;
    }
    
    .error {
      color: #ff4d4f;
      font-size: 14px;
      margin-top: 5px;
    }
    
    @media screen and (max-width: 600px) {
      .date-inputs {
        flex-direction: column;
      }
      
      .input-group {
        width: 100%;
      }
    }
  </style>
</head>
<body>
  <div id="app">
    <div class="container">
      <div class="header">
        <h1>å¹´é¾„è®¡ç®—å™¨</h1>
      </div>
      
      <div class="content">
        <form @submit.prevent="calculateAge">
          <div class="form-group">
            <span class="form-label">è¯·è¾“å…¥æ‚¨çš„å‡ºç”Ÿæ—¥æœŸï¼š</span>
            <div class="date-inputs">
              <div class="input-group">
                <label for="year">å¹´</label>
                <select id="year" v-model="birthYear" required>
                  <option value="">è¯·é€‰æ‹©</option>
                  <option v-for="year in years" :key="year" :value="year">{{ year }}</option>
                </select>
              </div>
              
              <div class="input-group">
                <label for="month">æœˆ</label>
                <select id="month" v-model="birthMonth" required>
                  <option value="">è¯·é€‰æ‹©</option>
                  <option v-for="month in 12" :key="month" :value="month">{{ month }}</option>
                </select>
              </div>
              
              <div class="input-group">
                <label for="day">æ—¥</label>
                <select id="day" v-model="birthDay" required>
                  <option value="">è¯·é€‰æ‹©</option>
                  <option v-for="day in days" :key="day" :value="day">{{ day }}</option>
                </select>
                <div class="error" v-if="dayError">{{ dayError }}</div>
              </div>
            </div>
          </div>
          
          <button type="submit" class="submit-btn">è®¡ç®—</button>
        </form>
        
        <div class="results" :class="{ hidden: !showResults }">
          <div class="result-item">
            <div class="result-icon">ğŸ‚</div>
            <span class="result-label">æ‚¨å·²å‡ºç”Ÿï¼š</span>
            <span class="result-value">{{ daysLived }}å¤©</span>
          </div>
          
          <div class="result-item">
            <div class="result-icon">ğŸ“…</div>
            <span class="result-label">æ‚¨çš„å¹´é¾„ï¼š</span>
            <span class="result-value">{{ age }}å²</span>
          </div>
          
          <div class="result-item">
            <div class="result-icon">
              <span class="zodiac-icon">{{ zodiacEmoji }}</span>
            </div>
            <span class="result-label">æ‚¨çš„ç”Ÿè‚–ï¼š</span>
            <span class="result-value">{{ zodiacSign }}</span>
          </div>
        </div>
      </div>
      
      <div class="footer">
        Â© {{ currentYear }} å¹´é¾„è®¡ç®—å™¨ | ç²¾ç¡®è®¡ç®—æ‚¨çš„å‡ºç”Ÿå¤©æ•°ã€å¹´é¾„å’Œç”Ÿè‚–
      </div>
    </div>
  </div>
  
  <!-- å¼•å…¥ Vue 3 -->
  <script src="https://unpkg.com/vue@3/dist/vue.global.prod.js"></script>
  
  <script>
    const { createApp, ref, computed, watch } = Vue;
    
    createApp({
      setup() {
        // å¹´ä»½é€‰é¡¹ï¼šä»1900å¹´åˆ°å½“å‰å¹´
        const currentYear = new Date().getFullYear();
        const years = Array.from({length: currentYear - 1899}, (_, i) => i + 1900);
        
        // è¡¨å•æ•°æ®
        const birthYear = ref('');
        const birthMonth = ref('');
        const birthDay = ref('');
        const dayError = ref('');
        
        // ç»“æœæ˜¾ç¤ºæ§åˆ¶
        const showResults = ref(false);
        
        // è®¡ç®—å½“æœˆå¤©æ•°
        const days = computed(() => {
          if (!birthYear.value || !birthMonth.value) return Array.from({length: 31}, (_, i) => i + 1);
          
          const daysInMonth = new Date(birthYear.value, birthMonth.value, 0).getDate();
          return Array.from({length: daysInMonth}, (_, i) => i + 1);
        });
        
        // ç›‘å¬æœˆä»½å˜åŒ–ï¼Œç¡®ä¿æ—¥æœŸæœ‰æ•ˆ
        watch([birthYear, birthMonth], () => {
          if (birthDay.value > days.value.length) {
            birthDay.value = days.value.length;
            dayError.value = `æ‰€é€‰æœˆä»½æœ€å¤šæœ‰ ${days.value.length} å¤©`;
            setTimeout(() => {
              dayError.value = '';
            }, 3000);
          } else {
            dayError.value = '';
          }
        });
        
        // è®¡ç®—å·²å‡ºç”Ÿå¤©æ•°
        const daysLived = ref(0);
        
        // è®¡ç®—å¹´é¾„
        const age = ref(0);
        
        // ç”Ÿè‚–ä¿¡æ¯
        const zodiacSigns = ['é¼ ', 'ç‰›', 'è™', 'å…”', 'é¾™', 'è›‡', 'é©¬', 'ç¾Š', 'çŒ´', 'é¸¡', 'ç‹—', 'çŒª'];
        
        // ç”Ÿè‚–è¡¨æƒ…
        const zodiacEmojis = ['ğŸ­', 'ğŸ®', 'ğŸ¯', 'ğŸ°', 'ğŸ²', 'ğŸ', 'ğŸ´', 'ğŸ‘', 'ğŸµ', 'ğŸ”', 'ğŸ¶', 'ğŸ·'];
        
        const zodiacSign = ref('');
        const zodiacEmoji = ref('');
        
        // è®¡ç®—å¹´é¾„å‡½æ•°
        const calculateAge = () => {
          if (!birthYear.value || !birthMonth.value || !birthDay.value) {
            return;
          }
          
          // åˆ›å»ºå‡ºç”Ÿæ—¥æœŸå¯¹è±¡
          const birthDate = new Date(birthYear.value, birthMonth.value - 1, birthDay.value);
          
          // éªŒè¯æ—¥æœŸæœ‰æ•ˆæ€§
          if (isNaN(birthDate.getTime())) {
            dayError.value = 'æ— æ•ˆçš„æ—¥æœŸ';
            return;
          }
          
          // å½“å‰æ—¥æœŸ
          const currentDate = new Date();
          
          // è®¡ç®—å·²å‡ºç”Ÿå¤©æ•°ï¼ˆæ¯«ç§’è½¬å¤©æ•°ï¼‰
          const timeDiff = currentDate - birthDate;
          daysLived.value = Math.floor(timeDiff / (1000 * 60 * 60 * 24));
          
          // è®¡ç®—å¹´é¾„
          let years = currentDate.getFullYear() - birthDate.getFullYear();
          const monthDiff = currentDate.getMonth() - birthDate.getMonth();
          
          if (monthDiff < 0 || (monthDiff === 0 && currentDate.getDate() < birthDate.getDate())) {
            years--;
          }
          
          age.value = years;
          
          // è®¡ç®—ç”Ÿè‚–
          // æ³¨æ„ï¼šä¸­å›½ä¼ ç»Ÿçš„ç”Ÿè‚–å¹´æ˜¯æŒ‰å†œå†è®¡ç®—çš„ï¼Œè¿™é‡Œç”¨å…¬å†å¹´ä»½çš„ç®€åŒ–è®¡ç®—
          // 1900å¹´æ˜¯é¼ å¹´ï¼Œç”¨è¾“å…¥å¹´ä»½å‡å»1900åå–ä½™12ï¼Œå¯å¾—åˆ°ç”Ÿè‚–ç´¢å¼•
          const zodiacIndex = (birthYear.value - 1900) % 12;
          zodiacSign.value = `å±${zodiacSigns[zodiacIndex]}`;
          zodiacEmoji.value = zodiacEmojis[zodiacIndex];
          
          // æ˜¾ç¤ºç»“æœ
          showResults.value = true;
        };
        
        return {
          years,
          currentYear,
          birthYear,
          birthMonth,
          birthDay,
          days,
          dayError,
          daysLived,
          age,
          zodiacSign,
          zodiacEmoji,
          showResults,
          calculateAge
        };
      }
    }).mount('#app');
  </script>
</body>
</html>
